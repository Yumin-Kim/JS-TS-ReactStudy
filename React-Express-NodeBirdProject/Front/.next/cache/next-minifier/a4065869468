{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{RNiq:function(n,e,t){\"use strict\";t.r(e);var r=t(\"ln6h\"),i=t.n(r),u=t(\"q1tI\"),o=t.n(u),c=t(\"Vl3Y\"),a=t(\"5rEg\"),l=t(\"2/Rp\"),s=t(\"/MKj\"),f=t(\"F9a2\"),d=o.a.createElement,g=function(){var n=Object(u.useState)(\"\"),e=n[0],t=n[1],r=Object(s.b)(),i=Object(s.c)((function(n){return n.post})),o=i.imagePaths,g=i.isAddingPost,p=i.postAdded,E=Object(u.useRef)();Object(u.useEffect)((function(){t(\"\")}),[p]);var m=Object(u.useCallback)((function(n){if(n.preventDefault(),!e)return alert(\"\\uc791\\uc131\\ud574!!\");var t=new FormData;o.forEach((function(n){t.append(\"image\",n)})),t.append(\"content\",e),r({type:f.e,data:t})}),[e,o]),v=Object(u.useCallback)((function(n){t(n.target.value)}),[e]),O=Object(u.useCallback)((function(n){console.log(n.target.files);var e=new FormData;[].forEach.call(n.target.files,(function(n){e.append(\"image\",n)})),r({type:f.J,data:e})})),b=Object(u.useCallback)((function(){console.log(E),E.current.click()}),[E.current]),h=Object(u.useCallback)((function(n){return function(){r({type:f.y,index:n})}}),[]);return d(c.a,{encType:\"multipart/form-data\",onSubmit:m},d(a.a.TextArea,{value:e,onChange:v,maxLength:140,placeholder:\"\\uc5b4\\ub5a4 \\uc2e0\\uae30\\ud55c \\uc77c\\uc774 \\uc788\\uc5c8\\ub098\\uc5ec\"}),d(\"div\",null,d(\"input\",{type:\"file\",multiple:!0,hidden:!0,ref:E,onChange:O}),d(l.a,{onClick:b},\"\\uc774\\ubbf8\\uc9c0 \\uc5c5\\ub85c\\ub4dc\"),d(l.a,{type:\"primary\",style:{float:\"right\"},htmlType:\"submit\",loading:g},\"\\uc9f9\\uc9f9\"),d(\"div\",null,o.map((function(n,e){return d(\"div\",{key:e,style:{display:\"inline-block\"}},d(\"img\",{src:\"http://localhost:3065/\".concat(n),style:{width:\"200px\"},alt:e}),d(\"div\",null,d(l.a,{onClick:h(e)},\"\\uc81c\\uac70\")))})))))},p=t(\"kduo\"),E=(t(\"Z0vY\"),o.a.createElement),m=function(){var n=Object(s.b)(),e=Object(s.c)((function(n){return n.user})).me,t=Object(s.c)((function(n){return n.post})),r=t.mainPosts,i=t.hasMorePost,c=Object(u.useRef)([]),a=Object(u.useCallback)((function(){if(window.scrollY+document.documentElement.clientHeight>document.documentElement.scrollHeight-300&&i){var e=r[r.length-1].id;c.current.includes(e)||n({type:f.q,lastId:e}),c.current.push(e)}}),[r.length]);return Object(u.useEffect)((function(){return window.addEventListener(\"scroll\",a),function(){window.removeEventListener(\"scroll\",a)}}),[r.length]),E(o.a.Fragment,null,e?E(\"div\",null,e.nickname,\"\\uc774 \\ub85c\\uadf8\\uc778 \\ud558\\uc168\\uc2b5\\ub2c8\\ub2e4\"):E(\"div\",null,\"\\ub85c\\uadf8\\uc544\\uc6c3 \\ud558\\uc168\\uc2b5\\ub2c8\\ub2e4\"),E(\"div\",null,e&&E(g,null),r.map((function(n,e){return E(p.a,{key:n.id,post:n})}))))};m.getInitialProps=function(n){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n.store.dispatch({type:f.q});case 1:case\"end\":return e.stop()}}))};e.default=m},Z0vY:function(n,e,t){\"use strict\";t.d(e,\"k\",(function(){return b})),t.d(e,\"l\",(function(){return h})),t.d(e,\"j\",(function(){return S})),t.d(e,\"e\",(function(){return U})),t.d(e,\"f\",(function(){return _})),t.d(e,\"d\",(function(){return L})),t.d(e,\"b\",(function(){return R})),t.d(e,\"c\",(function(){return w})),t.d(e,\"a\",(function(){return I})),t.d(e,\"h\",(function(){return j})),t.d(e,\"i\",(function(){return y})),t.d(e,\"g\",(function(){return k}));var r=t(\"hfKm\"),i=t.n(r),u=t(\"2Eek\"),o=t.n(u),c=t(\"XoMD\"),a=t.n(c),l=t(\"Jo+v\"),s=t.n(l),f=t(\"4mXO\"),d=t.n(f),g=t(\"pLtp\"),p=t.n(g),E=t(\"vYYK\");function m(n,e){var t=p()(n);if(d.a){var r=d()(n);e&&(r=r.filter((function(e){return s()(n,e).enumerable}))),t.push.apply(t,r)}return t}function v(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?m(Object(t),!0).forEach((function(e){Object(E.a)(n,e,t[e])})):a.a?o()(n,a()(t)):m(Object(t)).forEach((function(e){i()(n,e,s()(t,e))}))}return n}var O={isLoggingOut:!1,isLoggingIn:!1,logInErrorReason:\"\",isSignedUp:!1,isSigningUp:!1,signUpErrorReason:\"\",me:null,followingList:[],followerList:[],userInfo:null},b=\"SIGN_UP_REQUEST\",h=\"SIGN_UP_SUCCESS\",S=\"SIGN_UP_FAILURE\",U=\"LOG_IN_REQUEST\",_=\"LOG_IN_SUCCESS\",L=\"LOG_IN_FAILURE\",R=\"LOAD_USER_REQUEST\",w=\"LOAD_USER_SUCCESS\",I=\"LOAD_USER_FAILURE\",j=\"LOG_OUT_REQUEST\",y=\"LOG_OUT_SUCCESS\",k=\"LOG_OUT_FAILURE\";e.m=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case U:return v({},n,{isLoggingIn:!0,logInErrorReason:\"\"});case _:return v({},n,{isLoggingIn:!1,me:e.data,isLoading:!1});case L:return v({},n,{isLoggingIn:!1,logInErrorReason:e.error,me:null});case j:return v({},n,{isLoggingOut:!0});case y:return v({},n,{isLoggingOut:!1,me:null});case b:return v({},n,{isSigningUp:!0,isSignedUp:!1,signUpErrorReason:\"\"});case h:return v({},n,{isSigningUp:!1,isSignedUp:!0});case S:return v({},n,{isSigningUp:!1,signUpErrorReason:e.error});case R:return v({},n);case w:return e.me?v({},n,{me:e.data}):v({},n,{userInfo:e.data});case I:default:return v({},n)}}},vlRD:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return t(\"RNiq\")}])}},[[\"vlRD\",1,2,6,0,3,7,5,4,9,8,11,10,12]]]);"}